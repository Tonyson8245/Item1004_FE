{
  "version": 3,
  "sources": ["../../@vueuse/integrations/useAxios.mjs"],
  "sourcesContent": ["import { shallowRef, ref } from 'vue-demi';\nimport { isString, until } from '@vueuse/shared';\nimport axios from 'axios';\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nfunction useAxios(...args) {\n  const url = typeof args[0] === \"string\" ? args[0] : void 0;\n  const argsPlaceholder = isString(url) ? 1 : 0;\n  let defaultConfig = {};\n  let instance = axios;\n  let options = { immediate: !!argsPlaceholder, shallow: true };\n  const isAxiosInstance = (val) => !!(val == null ? void 0 : val.request);\n  if (args.length > 0 + argsPlaceholder) {\n    if (isAxiosInstance(args[0 + argsPlaceholder]))\n      instance = args[0 + argsPlaceholder];\n    else\n      defaultConfig = args[0 + argsPlaceholder];\n  }\n  if (args.length > 1 + argsPlaceholder) {\n    if (isAxiosInstance(args[1 + argsPlaceholder]))\n      instance = args[1 + argsPlaceholder];\n  }\n  if (args.length === 2 + argsPlaceholder && !isAxiosInstance(args[1 + argsPlaceholder]) || args.length === 3 + argsPlaceholder)\n    options = args[args.length - 1];\n  const response = shallowRef();\n  const data = options.shallow ? shallowRef() : ref();\n  const isFinished = ref(false);\n  const isLoading = ref(false);\n  const isAborted = ref(false);\n  const error = shallowRef();\n  const cancelToken = axios.CancelToken.source();\n  const abort = (message) => {\n    if (isFinished.value || !isLoading.value)\n      return;\n    cancelToken.cancel(message);\n    isAborted.value = true;\n    isLoading.value = false;\n    isFinished.value = false;\n  };\n  const loading = (loading2) => {\n    isLoading.value = loading2;\n    isFinished.value = !loading2;\n  };\n  const waitUntilFinished = () => new Promise((resolve, reject) => {\n    until(isFinished).toBe(true).then(() => resolve(result)).catch(reject);\n  });\n  const then = (onFulfilled, onRejected) => waitUntilFinished().then(onFulfilled, onRejected);\n  const execute = (executeUrl = url, config = {}) => {\n    error.value = void 0;\n    const _url = typeof executeUrl === \"string\" ? executeUrl : url != null ? url : \"\";\n    loading(true);\n    instance(_url, __spreadProps(__spreadValues(__spreadValues({}, defaultConfig), typeof executeUrl === \"object\" ? executeUrl : config), { cancelToken: cancelToken.token })).then((r) => {\n      response.value = r;\n      data.value = r.data;\n    }).catch((e) => {\n      error.value = e;\n    }).finally(() => loading(false));\n    return { then };\n  };\n  if (options.immediate && url)\n    execute();\n  const result = {\n    response,\n    data,\n    error,\n    finished: isFinished,\n    loading: isLoading,\n    isFinished,\n    isLoading,\n    cancel: abort,\n    isAborted,\n    canceled: isAborted,\n    aborted: isAborted,\n    isCanceled: isAborted,\n    abort,\n    execute\n  };\n  return __spreadProps(__spreadValues({}, result), {\n    then\n  });\n}\n\nexport { useAxios };\n"],
  "mappings": "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",
  "names": []
}
