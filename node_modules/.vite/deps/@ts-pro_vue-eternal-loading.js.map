{
  "version": 3,
  "sources": ["../../@ts-pro/vue-eternal-loading/dist/vue-eternal-loading.mjs"],
  "sourcesContent": ["import { defineComponent as H, ref as _, watchEffect as P, watch as I, unref as i, openBlock as R, createElementBlock as w, renderSlot as p, normalizeProps as v, mergeProps as g, createCommentVNode as L, createElementVNode as h, nextTick as B } from \"vue\";\nfunction T(o) {\n  return o.scrollHeight;\n}\nfunction W(o) {\n  return o.scrollWidth;\n}\nfunction z(o, s) {\n  o.scrollTop = o.scrollHeight - s + o.scrollTop;\n}\nfunction C(o, s) {\n  o.scrollLeft = o.scrollWidth - s + o.scrollLeft;\n}\nconst M = /* @__PURE__ */ h(\"div\", { class: \"loading\" }, \"Loading...\", -1), j = /* @__PURE__ */ h(\"div\", { class: \"no-more\" }, \"No more.\", -1), D = /* @__PURE__ */ h(\"div\", { class: \"no-results\" }, \"No results.\", -1), A = /* @__PURE__ */ h(\"div\", { class: \"error\" }, \"Error.\", -1), J = /* @__PURE__ */ H({\n  __name: \"VueEternalLoading\",\n  props: {\n    load: {\n      required: !0,\n      type: Function\n    },\n    isInitial: {\n      required: !1,\n      type: Boolean,\n      default: !0\n    },\n    position: {\n      required: !1,\n      type: String,\n      default: \"default\"\n    },\n    container: {\n      required: !1,\n      type: Object,\n      default: null\n    },\n    margin: {\n      required: !1,\n      type: String,\n      default: void 0\n    }\n  },\n  emits: [\"update:isInitial\"],\n  setup(o, { emit: s }) {\n    const t = o, l = _();\n    let a = _(\"loading\"), r = _(t.isInitial);\n    const F = typeof process < \"u\" && process.env !== void 0 && process.env.NODE_ENV !== \"test\";\n    let c = 0;\n    function d() {\n      B(() => {\n        var e, n;\n        t.position === \"top\" ? z(\n          (e = t.container) != null ? e : document.documentElement,\n          c\n        ) : t.position === \"left\" && C(\n          (n = t.container) != null ? n : document.documentElement,\n          c\n        );\n      });\n    }\n    function N(e, n) {\n      return e === 0 ? r.value ? (S(), \"no-results\") : (y(), \"no-more\") : e !== void 0 && n !== void 0 && e < n ? (y(), \"no-more\") : (r.value = !1, d(), f(), \"loading\");\n    }\n    function y() {\n      r.value = !1, u(\"no-more\"), d();\n    }\n    function S() {\n      r.value = !1, u(\"no-results\"), d();\n    }\n    function V() {\n      r.value = !1, u(\"error\"), d();\n    }\n    function q() {\n      r.value = !0, u(\"loading\"), f();\n    }\n    function E() {\n      u(\"loading\"), f();\n    }\n    function u(e) {\n      a.value = e;\n    }\n    function b() {\n      l.value && m.unobserve(l.value);\n    }\n    function f() {\n      l.value && m.observe(l.value);\n    }\n    function O() {\n      return new IntersectionObserver(\n        ([e]) => {\n          var n, k;\n          e.isIntersecting && (t.position === \"top\" ? c = T(\n            (n = t.container) != null ? n : document.documentElement\n          ) : t.position === \"left\" && (c = W(\n            (k = t.container) != null ? k : document.documentElement\n          )), b(), t.load(\n            {\n              loaded: N,\n              noMore: y,\n              noResults: S,\n              error: V\n            },\n            {\n              isFirstLoad: r.value\n            }\n          ));\n        },\n        {\n          root: t.container,\n          threshold: 0,\n          rootMargin: t.margin\n        }\n      );\n    }\n    let m;\n    return typeof IntersectionObserver < \"u\" && P(\n      () => {\n        m && b(), m = O(), f();\n      },\n      {\n        flush: \"post\"\n      }\n    ), I(\n      () => t.isInitial,\n      (e) => {\n        e && q();\n      }\n    ), I(r, (e) => {\n      e || s(\"update:isInitial\", !1);\n    }), (e, n) => i(F) ? L(\"\", !0) : (R(), w(\"div\", {\n      key: 0,\n      class: \"vue-eternal-loading\",\n      ref_key: \"rootRef\",\n      ref: l\n    }, [\n      i(a) === \"loading\" ? p(e.$slots, \"loading\", v(g({ key: 0 }, { isFirstLoad: i(r) })), () => [\n        M\n      ]) : i(a) === \"no-more\" ? p(e.$slots, \"no-more\", v(g({ key: 1 }, { retry: E })), () => [\n        j\n      ]) : i(a) === \"no-results\" ? p(e.$slots, \"no-results\", v(g({ key: 2 }, { retry: E })), () => [\n        D\n      ]) : i(a) === \"error\" ? p(e.$slots, \"error\", v(g({ key: 3 }, { retry: E })), () => [\n        A\n      ]) : L(\"\", !0)\n    ], 512));\n  }\n});\nexport {\n  J as VueEternalLoading\n};\n"],
  "mappings": "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",
  "names": []
}
