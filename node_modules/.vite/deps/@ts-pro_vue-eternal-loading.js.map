{
  "version": 3,
  "sources": ["../../@ts-pro/vue-eternal-loading/dist/vue-eternal-loading.mjs"],
  "sourcesContent": ["import { defineComponent as H, ref as _, watchEffect as P, watch as I, unref as i, openBlock as R, createElementBlock as w, renderSlot as p, normalizeProps as v, mergeProps as g, createCommentVNode as L, createElementVNode as h, nextTick as B } from \"vue\";\r\nfunction T(o) {\r\n  return o.scrollHeight;\r\n}\r\nfunction W(o) {\r\n  return o.scrollWidth;\r\n}\r\nfunction z(o, s) {\r\n  o.scrollTop = o.scrollHeight - s + o.scrollTop;\r\n}\r\nfunction C(o, s) {\r\n  o.scrollLeft = o.scrollWidth - s + o.scrollLeft;\r\n}\r\nconst M = /* @__PURE__ */ h(\"div\", { class: \"loading\" }, \"Loading...\", -1), j = /* @__PURE__ */ h(\"div\", { class: \"no-more\" }, \"No more.\", -1), D = /* @__PURE__ */ h(\"div\", { class: \"no-results\" }, \"No results.\", -1), A = /* @__PURE__ */ h(\"div\", { class: \"error\" }, \"Error.\", -1), J = /* @__PURE__ */ H({\r\n  __name: \"VueEternalLoading\",\r\n  props: {\r\n    load: {\r\n      required: !0,\r\n      type: Function\r\n    },\r\n    isInitial: {\r\n      required: !1,\r\n      type: Boolean,\r\n      default: !0\r\n    },\r\n    position: {\r\n      required: !1,\r\n      type: String,\r\n      default: \"default\"\r\n    },\r\n    container: {\r\n      required: !1,\r\n      type: Object,\r\n      default: null\r\n    },\r\n    margin: {\r\n      required: !1,\r\n      type: String,\r\n      default: void 0\r\n    }\r\n  },\r\n  emits: [\"update:isInitial\"],\r\n  setup(o, { emit: s }) {\r\n    const t = o, l = _();\r\n    let a = _(\"loading\"), r = _(t.isInitial);\r\n    const F = typeof process < \"u\" && process.env !== void 0 && process.env.NODE_ENV !== \"test\";\r\n    let c = 0;\r\n    function d() {\r\n      B(() => {\r\n        var e, n;\r\n        t.position === \"top\" ? z(\r\n          (e = t.container) != null ? e : document.documentElement,\r\n          c\r\n        ) : t.position === \"left\" && C(\r\n          (n = t.container) != null ? n : document.documentElement,\r\n          c\r\n        );\r\n      });\r\n    }\r\n    function N(e, n) {\r\n      return e === 0 ? r.value ? (S(), \"no-results\") : (y(), \"no-more\") : e !== void 0 && n !== void 0 && e < n ? (y(), \"no-more\") : (r.value = !1, d(), f(), \"loading\");\r\n    }\r\n    function y() {\r\n      r.value = !1, u(\"no-more\"), d();\r\n    }\r\n    function S() {\r\n      r.value = !1, u(\"no-results\"), d();\r\n    }\r\n    function V() {\r\n      r.value = !1, u(\"error\"), d();\r\n    }\r\n    function q() {\r\n      r.value = !0, u(\"loading\"), f();\r\n    }\r\n    function E() {\r\n      u(\"loading\"), f();\r\n    }\r\n    function u(e) {\r\n      a.value = e;\r\n    }\r\n    function b() {\r\n      l.value && m.unobserve(l.value);\r\n    }\r\n    function f() {\r\n      l.value && m.observe(l.value);\r\n    }\r\n    function O() {\r\n      return new IntersectionObserver(\r\n        ([e]) => {\r\n          var n, k;\r\n          e.isIntersecting && (t.position === \"top\" ? c = T(\r\n            (n = t.container) != null ? n : document.documentElement\r\n          ) : t.position === \"left\" && (c = W(\r\n            (k = t.container) != null ? k : document.documentElement\r\n          )), b(), t.load(\r\n            {\r\n              loaded: N,\r\n              noMore: y,\r\n              noResults: S,\r\n              error: V\r\n            },\r\n            {\r\n              isFirstLoad: r.value\r\n            }\r\n          ));\r\n        },\r\n        {\r\n          root: t.container,\r\n          threshold: 0,\r\n          rootMargin: t.margin\r\n        }\r\n      );\r\n    }\r\n    let m;\r\n    return typeof IntersectionObserver < \"u\" && P(\r\n      () => {\r\n        m && b(), m = O(), f();\r\n      },\r\n      {\r\n        flush: \"post\"\r\n      }\r\n    ), I(\r\n      () => t.isInitial,\r\n      (e) => {\r\n        e && q();\r\n      }\r\n    ), I(r, (e) => {\r\n      e || s(\"update:isInitial\", !1);\r\n    }), (e, n) => i(F) ? L(\"\", !0) : (R(), w(\"div\", {\r\n      key: 0,\r\n      class: \"vue-eternal-loading\",\r\n      ref_key: \"rootRef\",\r\n      ref: l\r\n    }, [\r\n      i(a) === \"loading\" ? p(e.$slots, \"loading\", v(g({ key: 0 }, { isFirstLoad: i(r) })), () => [\r\n        M\r\n      ]) : i(a) === \"no-more\" ? p(e.$slots, \"no-more\", v(g({ key: 1 }, { retry: E })), () => [\r\n        j\r\n      ]) : i(a) === \"no-results\" ? p(e.$slots, \"no-results\", v(g({ key: 2 }, { retry: E })), () => [\r\n        D\r\n      ]) : i(a) === \"error\" ? p(e.$slots, \"error\", v(g({ key: 3 }, { retry: E })), () => [\r\n        A\r\n      ]) : L(\"\", !0)\r\n    ], 512));\r\n  }\r\n});\r\nexport {\r\n  J as VueEternalLoading\r\n};\r\n"],
  "mappings": "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",
  "names": []
}
